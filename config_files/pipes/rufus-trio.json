{
  "id" : "rufus-trio",
  "configuration type" : "pipeline",
  "description" : "Compare the reads from a child to their parents to discover de novo breakpoints.",
  "categories" : ["Variant-discovery", "SV-discovery", "Reference-free"],

  "pipeline tasks" : [
    {
      "task" : "count-childs-k-mers",
      "pipeline" : "kmer-histogram",
      "greedy argument" : "--in"
    },
    {
      "task" : "count-mothers-k-mers",
      "pipeline" : "kmer-histogram",
      "greedy argument" : "--in"
    },
    {
      "task" : "count-fathers-k-mers",
      "pipeline" : "kmer-histogram",
      "greedy argument" : "--in"
    },

    {
      "task" : "merge-parents-counts",
      "tool" : "jellyfish-merge",
      "greedy argument" : "--in"
    },
    {
      "task" : "build-parents-histogram",
      "tool" : "jellyfish-histogram"
    }
  ],

  "arguments" : {
    "Inputs" : [
      {
        "description" : "The childs first mate FASTQ file.",
        "long form argument" : "--fastq-child",
        "short form argument" : "-cq",
        "node id" : "fastq-child"
      },
      {
        "description" : "The childs second mate FASTQ file.",
        "long form argument" : "--fastq2-child",
        "short form argument" : "-cq2",
        "node id" : "fastq2-child"
      },
      {
        "description" : "The mothers first mate FASTQ file.",
        "long form argument" : "--fastq-mother",
        "short form argument" : "-mq",
        "node id" : "fastq-mother"
      },
      {
        "description" : "The mothers second mate FASTQ file.",
        "long form argument" : "--fastq2-mother",
        "short form argument" : "-mq2",
        "node id" : "fastq2-mother"
      },
      {
        "description" : "The fathers first mate FASTQ file.",
        "long form argument" : "--fastq-father",
        "short form argument" : "-fq",
        "node id" : "fastq-father"
      },
      {
        "description" : "The fathers second mate FASTQ file.",
        "long form argument" : "--fastq2-father",
        "short form argument" : "-fq2",
        "node id" : "fastq2-father"
      }
    ],

    "Outputs" : [
      {
        "description" : "The output file for the childs k-mer counts (extension: jf).",
        "long form argument" : "--child-counts",
        "short form argument" : "-cc",
        "node id" : "child-counts"
      },
      {
        "description" : "The output file for the mothers k-mer counts (extension: jf).",
        "long form argument" : "--mother-counts",
        "short form argument" : "-mc",
        "node id" : "mother-counts"
      },
      {
        "description" : "The output file for the fathers k-mer counts (extension: jf).",
        "long form argument" : "--father-counts",
        "short form argument" : "-fc",
        "node id" : "father-counts"
      }
    ],

    "Plotting options" : [
      {
        "description" : "The title of the plot for the count of the childs kmers.",
        "long form argument" : "--child-count-title",
        "short form argument" : "-cct",
        "node id" : "child-counts-title"
      },
      {
        "description" : "The title of the plot for the count of the mothers kmers.",
        "long form argument" : "--mother-count-title",
        "short form argument" : "-mct",
        "node id" : "mother-counts-title"
      },
      {
        "description" : "The title of the plot for the count of the fathers kmers.",
        "long form argument" : "--father-count-title",
        "short form argument" : "-fct",
        "node id" : "father-counts-title"
      }
    ]
  },

  "unique graph nodes" : [
    {
      "id" : "fastq-child",
      "task" : "count-childs-k-mers",
      "node id" : "fastq"
    },
    {
      "id" : "fastq2-child",
      "task" : "count-childs-k-mers",
      "node id" : "fastq2"
    },
    {
      "id" : "fastq-mother",
      "task" : "count-mothers-k-mers",
      "node id" : "fastq"
    },
    {
      "id" : "fastq2-mother",
      "task" : "count-mothers-k-mers",
      "node id" : "fastq2"
    },
    {
      "id" : "fastq-father",
      "task" : "count-fathers-k-mers",
      "node id" : "fastq"
    },
    {
      "id" : "fastq2-father",
      "task" : "count-fathers-k-mers",
      "node id" : "fastq2"
    },
    {
      "id" : "child-counts",
      "task" : "count-childs-k-mers",
      "node id" : "counts"
    },
    {
      "id" : "father-counts",
      "task" : "count-fathers-k-mers",
      "node id" : "counts"
    },
    {
      "id" : "mother-counts",
      "task" : "count-mothers-k-mers",
      "node id" : "counts"
    },
    {
      "id" : "child-counts-title",
      "task" : "count-childs-k-mers",
      "node id" : "title"
    },
    {
      "id" : "mother-counts-title",
      "task" : "count-mothers-k-mers",
      "node id" : "title"
    },
    {
      "id" : "father-counts-title",
      "task" : "count-fathers-k-mers",
      "node id" : "title"
    },
    {
      "id" : "merged-parents-counts",
      "task" : "merge-parents-counts",
      "task argument" : "--in"
    }
  ],

  "shared graph nodes" : [
  ],

  "connect nodes to tasks" : [
    {
      "id" : "merge-counts",
      "sources" : [
        {
          "task" : "count-mothers-k-mers.count-kmers",
          "task argument" : "--out"
        }
      ],
      "targets" : [
        {
          "task" : "merge-parents-counts",
          "task argument" : "--in"
        }
      ]
    }
  ],

  "parameter sets" : [
    {
      "id" : "default",
      "description" : "Default parameter set requires user to input all input filenames.",
      "data" : [
        {
          "id" : "child-counts",
          "node" : "child-counts",
          "values" : ["child.jf"]
        },
        {
          "id" : "mother-counts",
          "node" : "mother-counts",
          "values" : ["mother.jf"]
        },
        {
          "id" : "father-counts",
          "node" : "father-counts",
          "values" : ["father.jf"]
        },
        {
          "id" : "child-counts-title",
          "node" : "child-counts-title",
          "values" : ["The distribution of k-mer frequencies for the child."]
        },
        {
          "id" : "mother-counts-title",
          "node" : "mother-counts-title",
          "values" : ["The distribution of k-mer frequencies for the mother."]
        },
        {
          "id" : "father-counts-title",
          "node" : "father-counts-title",
          "values" : ["The distribution of k-mer frequencies for the father."]
        }
      ]
    },

    {
      "id" : "test",
      "description" : "Test parameter set for the test harness.",
      "data" : [
      ]
    }
  ]
}
